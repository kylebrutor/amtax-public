# Tax Theory and Innovation in EVE Online
An outline of what you'll find on this page:
- A Primer on Tax Theory: Rate Setting and Revenue
- Tax Structures: Flat vs. Progressive
- The Progressive Bracket Paradigm: Theory vs. Reality
- Innovation in Moon Tax Policy: From Brackets to Curves


## Introduction

Taxes collected from moon mining are an important source of revenue for corporations and alliances in EVE Online. The total revenue groups pull in from these taxes are impacted by the quantity of moons and types of moon ore available, environmental factors which impact mining activity levels, administrative efficiencies for tracking and collecting taxes, and of course, the tax rate.

This page focuses on rate setting in tax policy. It reviews some basic theory regarding the interactions between rate setting, macroeconomic impacts, and total revenues. It then outlines two predominant structures under which rates are typically set (flat vs. progressive), and describes their relative (dis)advantages. From there, the realities of implementing the progressive structure under actual administrative and market conditions are discussed. Finally, a new approach to rate setting is introduced to reconcile friction between real conditions and existing approaches.

## A Primer on Tax Theory: Rate Setting and Revenue
In YC 76 (1974), Arthur Laffer argued to U.S. officials that government revenues are curvilinearly related to tax rates through a drawing that became known as the Laffer Curve [1]. The curve illustrates that total government revenue is constrained when tax rates are set too low, _or_ too high; that a revenue peak exists at some optimal tax rate.

The Laffer Curve illustrates two different types of effects that tax rates have on revenue [2]. First, _arithmetic_ effects describe the increase in revenue derived from the mathematical consequences of increasing tax rates. These effects are independent of economic behaviors, and the assumption of these effects are that behavior is not influenced by rates. In a vacuum, arithmetic effects maximize revenue when the tax rate is set to 100%. _Economic_ effects, however, are behavioral and societal changes which occur in response to raising rates. When rates are too high, taxable activites are negatively impacted to such an extent that revenues fall, despite the arithmetic effect, because there is less economic output in the system to tax. Figure 1 (left) depicts a typical example of the Laffer Curve as a function of arithmetic and economic effects, which are in turn, a function of the tax rate.

**<p align="center">Figure 1. The Laffer Curve</p>**
<p align="center"><img src="https://github.com/kylebrutor/amtax-public/blob/main/figure1.PNG" width="100%"></p>

The shape of the curve, and thus the location of the optimum, divides the set of potential tax rates into two ranges: For most organizations which levy taxes, the rate exists within a "normal range" which falls _below_ the optimal rate for peak revenue extraction. Rates _beyond_ the optimum exists within a "prohibitive range". Tax policy is a tool for macroeconomic management; the objective for groups is to set a rate which is as far into the normal range as possible, thus maximizing arithmetic effects, but does not slip into the prohibitive range where the negative economic effects outweigh the positive arithmetic.

When applying the Laffer Curve to moon mining in EVE, the key element that must be considered is the economic effect of various tax rates. In the above example, economic effects drag down revenues at the same rate that arithmetic effects raise them, which when considered jointly, produces a symmetrical curve. For moon mining, it is reasonable to suspect the economic effects to be more severe in the sense that mining activity acutely diminishes as tax rates rise from zero percent. This effect collapses the normal rate range, and expands the prohibitive range. While real-world taxes apply to all sources of income, limiting elasticity, the fact that moon taxes only apply to the specific activity means they have a significant impact on whether someone chooses to mine, or switch some alternate income activity. Moon mining is, in a sense, substituable. Taxes on moon mining without comparable taxes on alternatives makes moon mining extremely sensitive to tax increases. Figure 2 (left) is a more reasonable representation of the economic effects of tax rates in EVE, and the resulting Laffer Curve.

**<p align="center">Figure 2. Hypothesized Laffer Curve in EVE Online</p>**
<p align="center"><img src="https://github.com/kylebrutor/amtax-public/blob/main/figure2.PNG" width="100%"></p>

A final note here: Overall moon mining activity is sensitive to tax rates, but so too are miners' decisions about _what_ to mine. While miners will, of course, mine whatever is the most valuable ore available to them, they do so only if that ore's value surpasses a threshold for what the miner considers to be "worth mining". Tax rates impact the profits earned by miners, and high taxes on lower- to moderately-valued ore can cause those ores to slip into the zone of "not worth mining", even if it is the best ore available at the time. This works through the economic effects of the rate. The lower the value of the ore, the more acutely the economic effects curve drops off. This is to say that in formulating tax policy, it must be considered that the prohibitive range, and thus the optimal tax rate, varies according to the value of the ore being mined. What are normal rates for some ores will be clearly prohibitive for others.

The next section compares two dominant tax structures which have been adapted for use in EVE Online. The "flat" tax is simple to implement but fails to address variable optimal rates. The "progressive" tax considers variable rates but is more difficult to implement effectively. The intuition for these structures are built-up in a generalized, hypothetical environment. Further down this page, they are extended to their more realistic applications in EVE.

## Tax Structures: Flat vs. Progressive

Consider a hypothetical universe where market prices allow the ISK/m3 earned for mining moon ores to perfectly correlate with the rarity-level of the ore. In this universe, all exceptional R64 ores are strictly more valuable than all rare R32s, which in turn are strictly more valuable than all uncommon R16s, etc.. Though this is an unrealistic assumption, it _is_ the assumption which underlies moon tax policies in nearly all of New Eden. From this assumption, groups employ one of two dominant tax structures: While _flat_ taxes are employed for their simplicity, _progressive_ tax structures trade some of their simplicity for effectivness in acheiving policy objectives.

Figure 3 graphically represents the flat tax example in our hypothetical universe. On the left, the tax rate is represented as a function of the hypothetical ISK/m3 earned from mining particular ores. The tax rate is "flat" in the sense that the rate does not vary according to ore value. The plot on the right depicts the **effects** of the flat tax structure on a miner's income in ISK/m3. The effective ISK/m3 (what the miner is left with after taxes) is plotted as a function of the hypothetical ISK/m3. The dashed line plots this function for the case of no taxes being levied such that the effective ISK/m3 is _equal_ to the hypothetical. The solid line, with corresponding data points for ore varieties, represents the effective ISK/m3 _after_ the flat tax has been levied. The area between the dashed zero-tax and solid, expected flat-tax lines depicts the revenue earned for the group who imposes the tax.

**<p align="center">Figure 3. The Flat Tax Example</p>**
<p align="center"><img src="https://github.com/kylebrutor/amtax-public/blob/main/figure3.PNG" width="100%"></p>

In examining Figure 3 (right), a miner's effective ISK/m3 increases linearly and monotonically with hypothetical ISK/m3 when a flat tax is imposed. While a miner's effective ISK/m3 is represented by:
$$[\text{hypothetical ISK/m3}]*(1-[\text{tax rate}])$$

the group's revenue is simply:
$$[\text{hypothetical ISK/m3}]*[\text{tax rate}]$$
When choosing to mine a higher-value ore over one of lower value in a flat-tax environment, the percent-change in effective income is exactly the same as the percent-change in hypothetical income. For miners who focus on high-value ore, this is a desirable property because, between different types of moon ore, it preserves the exact structure of incentives determining which ore should be mined, regardless of the hypothetical income. For example, the decision to switch from mining an ore worth 400 ISK/m3 to one worth 600 (assuming availability) is identical to the decision to switch from mining an ore worth 600 to one worth 800 ISK/m3; in this example, 200 ISK. This static structure of incentives is a key property of the flat tax.

But there are several disadvantages to a flat tax structure. Moon ore is not extracted in a vaccum of non-moon alternatives. _Absolute_ income potentials are an important consideration for those determing whether to mine moon ore compared to other, non-moon (i.e., non-taxed) ore, or whether it is worth mining anything at all compared to partaking in alternative income activities. For higher-income ores, the flat tax is advantagous to miners in this regard. However, it has extreme disadvantages for those who (a) are still willing to mine lower-value ores after the high-value ore has been gobbled up, and (b) for those who mine lower-value ores for industrial purposes. At tax rates consistent with a flat tax structure, lower-value ores are disproportionally impacted because absolute income levels are not sufficient to (a) be "worth the time" for casual miners, or (b) be worth mining (relative to importing) for industrialists. This is to say that the flat tax structure _over_-taxes, and thus discourages the mining of, lower-value ores. It is widely thought that this over-taxation on the low-end is counterproductive, leading to lower total tax revenues than if the ore were taxed at lower rate than the rate applied to high-value ores.

The flat tax structure has additional disadvantages when applied to high-value ores, in the sense that groups fail to extract all potential revenue that they could earn without deterring mining activity. Each miner has a threshold for what they consider _is_ or _is not_ worth mining. On reasonable assumption is that, on average, the top ~25% or so of ores, in terms of value, are _almost_ always worth mining, as there is a large, natural break in the value of ore around this threshold. Though it has clear limits, groups are often able to tax these ores at higher rates to maximize their revenue without a loss in mining activity.

Cue the _progressive_ tax structure, which directly confronts the disadvantages of the flat tax by lowering rates for low-value ores and raising rates on high-value ores. Figure 4 (left) plots an example of a progressive tax scheme which _begins_ low, but increases as a function of ISK/m3.

**<p align="center">Figure 4. The Progressive Tax Example</p>**
<p align="center"><img src="https://github.com/kylebrutor/amtax-public/blob/main/figure4.PNG" width="100%"></p>

Progressive taxes adjust the structure of incentives miners face when deciding which ore to mine among alternatives. The function representing effective ISK/m3, compared to flat taxes, retains its monotonic property, but is no longer linear. Instead, the marginal percentage change in effective ISK/m3 is _lower_ than the marginal percentage change of the hypothetical. For a miner, this means that switching from mining lower- to higher-value ores has diminishing returns. Though this is a disadvantage for miners, preserving linearity in effective income is not as important as preserving the monotonic property because, in reality, miners tend to mine whichever available ore is the highest-value, as long as it does not drop below the threshold of mining worthiness. Moreover, the disadvantage for miners is outweighted by the advantage gained by groups in terms of revenue. Though effective ISK/m3 for miners diminishes, revenue/m3 accumulates at an increasing rate.

In EVE, the progressive structure in Figure 4 (left) is still unrealistic because, through the function, a specific tax rate is assigned to each ore based on the ISK/m3 value associated with the ore. In reality, tax policies are typically specified for rarity-tiers; because ores of similar rarities are assumed to be similar in value, assigning tax rates by rarity-tier serves as a proxy or shortcut for assigning a progressive tax based on ISK/m3 value by ore. This leads to the most commonly employed tax system in EVE, the progressive bracket paradigm.

## The Progressive Bracket Paradigm: Theory vs. Reality

The progressive bracket paradigm retains most of the advantantages of a progressive structure _between_ rarities, but simplifies towards a flat tax _within_ rarities. Figure 5 (left) provides an example of the progressive bracket paradigm for a set of hypothetical ores.

**<p align="center">Figure 5. The Progressive Bracket Example</p>**
<p align="center"><img src="https://github.com/kylebrutor/amtax-public/blob/main/figure5.PNG" width="100%"></p>

Though it seems like the progressive bracket paradigm strikes a reasonable balance between simplicity and effectiveness, Figure 5 (right) reveals some potential issues. While individual ores are taxed close to their "ideal" rates, there is some minor, systematic under- and over-taxation at the ends of each bracket. More importantly, the progressive bracket system can fall victim to situations where miners switch to mining ores of _lesser_ value because it allows them to receive _higher_ effective ISK/m3 due to an artifact of bracket boundaries. This is doubly problematic in its effects towards a group's tax revenue, which are now extracted from a lower-value ore and at a lower rate. If ISK/m3 values perfectly correlate with rarity, the substantive impacts of these issues are mostly inconsequential; however, the perfect correlation assumption is clearly violated under real market conditions.

The most significant issue with the progressive bracket paradigm exists in this core assumption: Ores of the same rarity-tier can be bracketed into the same tax rate because their values are similar. Figure 6, below, illustrates the issue by re-creating the progressive bracket example under real market conditions as of July 1, 2023. While the mean value of ore increases for higher tiers. So too does the variance of the ores within each bracket. These conditions exist to such an severe extent that the previous assumption&mdash;that ores in one bracket are strictly more valuable than ores in a lower bracket&mdash;is violated for not just one bracket, but _all_ of them.

**<p align="center">Figure 6. The Progressive Bracket Example</p>**
<p align="center"><img src="https://github.com/kylebrutor/amtax-public/blob/main/figure6.PNG" width="100%"></p>

Examining Figure 6 (right), an inflection point exists at the R64 with an Actual ISK/m3 around 1400 (Monazite on July 1, 2023). Alternatives are considered in a roughly linear structure up until reaching Loparite, where after a significant advantage is gained by switching to Zircon (the R32 sitting at ~1500 ISK/m3). The numbers work out such that the incentive for switching from Monazite to Zircon is about 50% greater than the incentive to switch from Zircon to Loparite. Though market conditions did not make Zircon better to mine than Loparite (in terms of absolute, effective ISK/m3) on July 1, 2023 when our sample of the data was taken, market fluctations combined with slow policy adaptations can easily create such an environment. The stark jump in effective income between Monazite and Zircon is particularly concerning from the perspective of Alliance revenue, which does not make as much on the Zircon as it does on Monazite.

A critical element I wish to point out here is that the issue is not one of poor market conditions, but poor tax policy practices. Not all groups ignore this issue, and some may intervene to adjust tax rates according to market conditions. For example, a group may choose to tax Ytterbite at the R32 rate while Zircon is moved into the R64 bracket to be taxed at the higher rate. However, these addendums tend to be _ad hoc_, reactionary interventions with delayed (and thus costly) implementation. Moreover, these interventions are temporary band-aids, not systemic solutions.

## Innovation in Moon Tax Policy: From Brackets to Curves
As the above discussion suggests, there is an inherent friction between the progressive bracket paradigm and actual administrative and market conditions. Price variance within moon ore rarity-tiers creates inefficiencies in a tax system which relies on rarity-based brackets for rate setting. Policies which artificially adjust for outliers within brackets by placing them into a different bracket require regular intervention, are clunky, may be delayed, or are only temporary fixes.

In this section, a new approach to moon tax policy is introduced which mitigates inefficiences and simplifies policymaking. This approach does away with rarity-brackets altogether, and instead defines a _curve_ (function) for rate setting based on an ore's actual ISK/m3 value. The approach replaces manual intervention to address market anomalies with _dynamic rate setting through automated price tracking_. The locus of tax policy shifts away from determining (and adjusting) a specific rate for specific sets of ore; instead, policymaking entails defining an idealized curve for how rates should vary according to ore value, and letting that curve determine rates for specific ores.

Figure 7 (left) describes the simplest example, where the tax curve is defined in the format of $y=mx+b$ where $y$ is the tax rate, $x$ is the ISK/m3 value of the ore being taxed, $m$ is the slope of the "curve" (line), and $b$ is the $y$-intercept which defines the minimum rate when $x=0$. This example mirrors that of a basic progressive structure discussed earlier (Figure 4), but has dropped the assumption of correlation between rarity-tier and price, and instead lets tax rates be defined by ore value regardless of rarity. It essentially takes the data from Figure 5, but forces the points onto the line through a downward, vertical shift. The function is linear such that a marginal change in the value of an ore is associated with a constant marginal shift in the tax rate. 

**<p align="center">Figure 7. The Non-Bracketed Example</p>**
<p align="center"><img src="https://github.com/kylebrutor/amtax-public/blob/main/figure7.PNG" width="100%"></p>

The example in Figure 7 still has some disadvantages. First, a linear tax curve does not embody the binary choice of whether it is worth someone's time to mine; that is, it fails to recognize the natural break between the top ~25% of ores which are usually worth mining, compared to the lower-end ores. Indeed, though the curve is clearly "progressive" across the entire range of ore values, it may be _too_ progressive at the low- and high-ends to be an ideal curve choice. In other words, a linear curve which has appropriate "steepness" across the range of values may be too steep for the lowest-value sets of ore. On the high-end, the steepness combined with the unboundedness of the curve creates vulnerabilities for tax rates to enter the prohibitive range when prices for certain ores get too high. Loparite shooting up to ~3500 ISK/m3, for example, would trigger a dynamic rate of ~50%, with the rate approaching 100% as the prices approach ~7000 ISK/m3. Clearly, the linear curve is not an ideal choice for setting dynamic rates, as market conditions may require the same type of intervention that the approach seeks to avoid in the first place. On the low-end, it is desirable to keep rates as low as possible until ore begins approaching a value that makes it worth mining.

These are problems which can be addressed by careful selection of the curve. As a first pass, the logistic function has several desirable properties which make it an ideal choice for a tax curve. The function takes the following form:

$$\text{Tax Rate} = \frac{\text{Tax Cap}}{1+\\alpha e^{-\beta x}}$$

where $\beta$ is a parameter defining the sharpness of the tax curve and $\alpha$ is a horizontal adjustment parameter which can also be used to specify a tax minimim, if desired. The output value of the function is bounded between $0$ and the specified $\text{Tax Cap}$, which prevents tax rates from spiking when prices spike. The function embodies policy preferences, keeping the highest value ores taxed closer to the tax cap, and the lowest values ores closer to a minimum regardless of the specified cap. Moreover, the function moderates the tax rates for ores which lie near the threshold of mining worthiness; marginal changes in tax rates are relatively high compared to marginal price changes for the moderately-valued ores like Ytterbite. From a statistical theory perspective, the logistic function is a natural choice for capturing the "worth mining" threshold and has a long history of use as a probability model for binary outcomes. Figure 8 (left) demonstrates the properties of the curve.

**<p align="center">Figure 8. The Non-Bracketed Example (Adjusted)</p>**
<p align="center"><img src="https://github.com/kylebrutor/amtax-public/blob/main/figure8.PNG" width="100%"></p>

The curve in Figure 8 (left) has a $\text{Tax Cap}$ of 25% with parameters set to $\alpha=90$ and $\beta=0.005$. These numbers are notably arbitrary, and can be adjusted to change the shape of the curve. Importantly, tax policy under this scheme is no longer about choosing rates for specifc ores/groups of ores. Policy becomes a simple matter of selecting the tax cap and the parameters which create the desired curve. From there, the curve is fixed, and rates are dynamically adjusted along the curve based on market prices.

The parameter values shown here are a reasonable starting point. All R4 and R8 ores end up with tax rates under 2%, and R16s cap out around 5%. Taxes on the four highest-value ores sit between 20 and 25%. The natural break in price values above and below Ytterbite correspond with similar breaks in the tax rate. 

When looking at a miner's effective ISK/m3 in Figure 8 (right), there is a clear distinction regarding the ores which are heavily taxed and those which are nearly untaxed. In effect, the tax curve prevents low-value ores from being taxed in the prohibitive range, and ensures revenue from higher-value ores up until the tax cap is reached.

### References
1. Wanniski, Jude. 1978. "Taxes, Revenues, and the "Laffer Curve"." _The Way the World Works: How Economics Fail, and Succeed_. Basic Books.
2. Laffer, A. B. 2004. "The Laffer Curve: Past, Present, and Future." Executive Summary Backgrounder No. 1765. The Heritage Foundation.
